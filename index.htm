<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<title>Tracer d'une figure SVG par l'événement scroll</title>
</head>

<body>



<svg id="monSVG" 
	width="1000" 
	height="500"
	viewBox="-50 -50 1000 500"
	preserveAspectRatio="xMidYMid slice">

 <!--  Le path d'un triangle -->

  <path d=" M 150 0
  			L 75 200 
  			L 225 200 
  			Z"/>
</svg>


<svg id="svg_1" xmlns="http://www.w3.org/2000/svg">
  <path d="m6.749992,125.359983l0,0c0,-65.721874 53.27809,-118.99999 118.99993,-118.99999l0,0c31.56073,0 61.828842,12.537456 84.145641,34.854283c22.316824,22.316835 34.854289,52.584938 34.854289,84.145708l0,0c0,65.721866 -53.27809,118.99999 -118.99993,118.99999l0,0c-65.721833,0 -118.99993,-53.278125 -118.99993,-118.99999zm59.499965,0l0,0c0,32.860929 26.639061,59.499995 59.499965,59.499995c32.860928,0 59.499965,-26.639066 59.499965,-59.499995c0,-32.860929 -26.639053,-59.499995 -59.499965,-59.499995l0,0c-32.860904,0 -59.499965,26.639074 -59.499965,59.499995z"/>
</svg>

<svg id="svg_2" xmlns="http://www.w3.org/2000/svg">
  <path d="m200.138334,67.092771c-0.679917,-28.999926 -24.395711,-52.301854 -53.565621,-52.316634c-19.495876,0.00739 -36.523358,10.435243 -45.879605,25.992033c-4.397288,-2.41666 -9.459712,-3.820836 -14.854705,-3.820836c-16.842722,0.014781 -30.544524,13.347061 -31.157928,30.049362c-17.685228,5.808854 -30.485401,22.355957 -30.500182,42.021809c0,24.477001 19.858006,44.342394 44.342402,44.342394l0,-0.014781l38.9548,0l-16.007607,25.112576l14.610821,-3.037454l-19.540218,65.855845l67.533478,-74.65781l-15.800676,1.677621l16.014997,-14.950777l31.549619,0c24.477006,0 44.342402,-19.865392 44.342402,-44.342394c-0.014781,-19.488482 -12.593242,-35.969072 -30.041977,-41.910953zm-14.300425,71.487329l-117.322604,0c-16.325394,-0.044342 -29.53943,-13.243595 -29.568991,-29.568986c-0.014781,-14.647771 10.71608,-26.738463 24.757841,-29.051658c1.958456,-0.317787 3.709981,-1.411566 4.855493,-3.059625c1.145512,-1.648059 1.566765,-3.673028 1.204635,-5.638874c-0.206931,-1.093779 -0.332568,-2.128435 -0.332568,-3.133529c0.029562,-9.053239 7.353448,-16.377124 16.406689,-16.391905c4.781589,0 8.994117,2.054531 12.068524,5.402382c1.721963,1.899333 4.338165,2.7714 6.850901,2.283633c2.527517,-0.487766 4.626391,-2.268852 5.528019,-4.655951c5.53541,-14.721675 19.673246,-25.216041 36.294256,-25.20126c21.42477,0.029562 38.755259,17.367438 38.806992,38.792204c0,1.189854 -0.066514,2.40927 -0.199541,3.673028c-0.36213,3.820836 2.254072,7.272153 6.023176,7.97424c13.746144,2.542297 24.19617,14.529524 24.173999,28.992535c-0.029562,16.332782 -13.221426,29.539425 -29.54682,29.583767z"/>
</svg>

<svg id="svg_3" xmlns="http://www.w3.org/2000/svg">
  <path d="m124.315022,69.531384c-64.839709,0 -116.00001,66.283265 -116.00001,66.283265s51.160301,66.291858 116.00001,66.291858c49.587856,0 116.00001,-66.291858 116.00001,-66.291858s-66.412154,-66.283265 -116.00001,-66.283265zm0,107.587861c-22.76178,0 -41.304596,-18.534224 -41.304596,-41.304596s18.542816,-41.304596 41.304596,-41.304596s41.304596,18.542816 41.304596,41.304596s-18.542816,41.304596 -41.304596,41.304596zm0,-65.415413c-13.309927,0 -24.110817,10.792297 -24.110817,24.110817c0,13.31852 10.792297,24.110817 24.110817,24.110817c13.31852,0 24.110817,-10.792297 24.110817,-24.110817c0,-13.309927 -10.792297,-24.110817 -24.110817,-24.110817z"/>
</svg>

<svg id="svg_7" xmlns="http://www.w3.org/2000/svg">
  <path d="m226.207756,126.237051c-9.829799,-1.653305 -20.060647,-2.741867 -28.368095,-3.036516l-1.465057,-0.049108c0.335572,-0.736621 0.589297,-1.235886 0.671144,-1.309549c0.180063,-0.147324 0.327387,-0.76936 0.343756,-1.375026c0,-0.335572 0.147324,-1.424134 0.376495,-2.864637c2.250787,0.081847 5.238194,0.147324 8.495696,0.171878c12.579851,0.098216 25.740814,1.113116 34.768514,2.709129c5.377334,0.949423 7.153409,0.916684 3.18384,-0.049108c-4.018677,-0.973977 -15.935569,-2.406295 -25.429796,-3.028331c-6.375864,-0.433788 -15.51815,-0.597482 -20.903669,-0.50745c0.155509,-0.933053 0.335572,-1.972507 0.523819,-3.036516c0.761175,-4.116893 1.0149,-8.258341 1.031269,-16.500312c0.016369,-12.784468 -0.671144,-16.303879 -4.837145,-24.758652c-1.694228,-3.453934 -3.609443,-6.384049 -5.925707,-9.035885c2.021616,-5.966631 1.972507,-15.207132 -0.12277,-23.309964c-1.726967,-6.645959 -2.332633,-7.071562 -8.356557,-5.794752c-5.107239,1.088562 -9.199579,2.569989 -14.445957,5.21364c-2.479958,1.252256 -5.901153,3.200209 -8.381111,4.730744c-6.465896,-2.275341 -13.152778,-3.781321 -20.289818,-4.591605c-7.235256,-0.818468 -24.971454,-0.360126 -31.265471,0.802098c-6.154878,1.13767 -11.695905,2.529066 -16.713113,4.182371c-2.504512,-1.546904 -6.138509,-3.633997 -8.733052,-4.943546c-5.270933,-2.651836 -9.363272,-4.125078 -14.486881,-5.21364c-6.007554,-1.284995 -6.62959,-0.851207 -8.348372,5.794752c-2.128016,8.209232 -2.144386,17.605243 -0.040923,23.555504c0.24554,0.679328 0.392865,1.162224 0.450157,1.53872c-8.528435,10.738298 -11.311226,22.753406 -9.461488,39.523812c0.482896,4.370618 1.227702,8.381111 2.267156,12.056031c-5.442811,-0.032739 -13.185517,0.163694 -18.775652,0.523819c-9.510596,0.63022 -21.427488,2.04617 -25.446165,3.020146c-3.961384,0.965792 -2.201678,0.998531 3.18384,0.057293c9.0277,-1.587828 22.196848,-2.619097 34.768514,-2.709129c2.373557,-0.008185 4.591605,-0.057293 6.498635,-0.106401c0.572927,1.939769 1.227702,3.789506 1.972507,5.549212l-0.057293,0.008185c-8.307449,0.286464 -18.530112,1.375026 -28.359911,3.028331c-7.374395,1.235886 -18.260018,3.707659 -19.528643,4.419726c-1.334103,0.744806 -0.24554,0.581112 5.467365,-0.867576c10.419096,-2.635466 23.964738,-4.657082 40.743329,-6.064847l1.874291,-0.163694c3.601258,8.364741 9.15047,14.74879 16.991392,19.725075c4.796222,3.052885 12.481635,6.187617 16.352987,6.678698c1.064008,0.130955 4.157817,0.76936 6.87513,1.407765c2.725498,0.638405 8.053724,1.596012 11.835045,2.144386l0.090031,0c-0.073662,0.049108 -0.13914,0.081847 -0.204617,0.130955c-4.58342,2.381741 -7.562643,6.089401 -9.567889,11.925076c-0.900315,0.270094 -2.021616,0.638405 -3.232948,1.055824c-4.329695,1.473242 -6.015739,1.776075 -10.402726,1.808814c-4.550681,0.032739 -5.631059,-0.163694 -8.348372,-1.440503c-3.9532,-1.841553 -7.636305,-5.230009 -10.091708,-9.273241c-4.100524,-6.760544 -11.188455,-11.540397 -17.097793,-11.540397c-5.049947,0 -6.007554,2.04617 -2.357187,5.033577c5.500104,4.493388 9.608812,9.076808 11.294856,12.579851c0.949423,1.964323 2.406295,5.000839 3.249317,6.744175c0.89213,1.857922 2.79916,4.378803 4.616159,6.122139c4.272402,4.07597 8.39748,6.023923 14.552358,6.940607c4.125078,0.605666 5.139978,0.605666 10.009862,-0.016369c2.349003,-0.286464 4.329695,-0.622036 6.10577,-1.039454c0,1.997062 0,4.296956 0,6.9979c0,14.454142 -0.171878,19.103039 -0.744806,20.461696c-1.080378,2.586358 -3.503042,5.246379 -5.86023,6.441342c-2.349003,1.194963 -3.077439,2.512696 -2.087093,3.724029c0.548373,0.654774 1.604197,0.76936 5.148163,0.540189c6.727806,-0.417419 11.483104,-2.905561 13.905769,-7.292548c0.777544,-1.407765 0.957607,-4.239663 1.203148,-18.972085c0.26191,-15.984677 0.376495,-17.523396 1.415949,-19.806922c0.63022,-1.358657 1.53872,-2.831899 2.04617,-3.232948c0.851207,-0.703882 0.908499,0.687513 0.908499,19.806922c-0.008185,21.100101 -0.220986,23.645536 -2.332633,27.705136c-0.474711,0.924869 -1.375026,2.128016 -2.005246,2.700944c-1.104932,1.006715 -1.571458,3.584889 -0.802098,4.362434c1.268625,1.26044 7.62812,-0.720252 11.098424,-3.453934c5.909338,-4.681636 6.61322,-8.552989 6.662328,-36.51185l0.024554,-16.402096l1.792445,0.171878l1.792445,0.163694l0.294648,21.452042c0.335572,24.152986 0.38468,24.504927 4.493388,29.170194c2.332633,2.635466 4.681636,4.092339 8.503881,5.230009c5.115424,1.53872 6.654144,-0.834837 3.216579,-4.95173c-3.740398,-4.477019 -3.920461,-6.187617 -3.715844,-32.689606c0.13914,-16.991392 0.13914,-16.991392 1.235886,-16.001046c2.308079,2.095278 2.750052,5.532843 2.750052,21.468411c0,19.790552 0.564743,21.673028 7.554458,25.126963c3.265687,1.596012 4.182371,1.792445 8.364741,1.808814c4.452465,0.016369 4.722559,-0.049108 4.886253,-1.211332c0.13914,-0.941238 -0.409234,-1.579643 -2.488142,-2.848268c-2.725498,-1.677859 -4.616159,-3.822245 -5.802937,-6.523189c-0.450157,-1.039454 -0.75299,-7.849107 -0.957607,-21.869461c-0.294648,-19.585935 -0.360126,-20.478065 -1.579643,-23.54732c-1.64512,-4.125078 -4.157817,-7.38258 -7.341657,-9.543335c-0.826653,-0.540189 -1.653305,-0.990346 -2.725498,-1.325918c1.317733,-0.130955 2.594543,-0.270094 3.830429,-0.450157c12.866314,-1.710598 19.667782,-3.134732 25.126963,-5.246379c11.548581,-4.44428 19.356764,-11.82686 23.588243,-22.295064c0.376495,-0.933053 0.75299,-1.816999 1.072193,-2.529066l3.257502,0.270094c16.786775,1.415949 30.332418,3.437565 40.751514,6.081216c5.712906,1.448688 6.801468,1.620566 5.467365,0.859391c-1.244071,-0.695698 -12.129693,-3.159286 -19.495904,-4.395172zm-49.222656,-0.253725c-1.90703,4.190555 -7.227071,9.576074 -11.524027,11.687721c-4.239663,2.095278 -10.885622,3.69129 -18.415526,4.452465c-5.148163,0.523819 -33.860015,0.679328 -38.598943,0.212802c-15.690028,-1.53872 -24.480373,-4.558866 -30.962638,-10.607343c-6.138509,-5.745644 -9.003146,-13.545643 -8.503881,-23.146271c0.319202,-6.007554 1.767891,-9.780691 5.557397,-14.364111c3.44575,-4.174186 7.071562,-6.75236 11.343964,-8.061908c3.576704,-1.096747 14.552358,-1.194963 29.309333,-0.24554c6.523189,0.417419 11.916892,0.417419 18.431896,0c15.436303,-0.973977 25.740814,-0.867576 29.546689,0.311018c5.983,1.849737 11.433996,6.826022 14.707867,13.455611c1.473242,2.962854 1.759706,4.223294 1.972507,8.798529c0.294648,6.302202 -0.793914,12.997269 -2.864637,17.507027zm-77.836292,-27.058547c-8.78216,-1.53872 -13.799368,13.496535 -7.063377,21.173763c3.200209,3.642182 6.040293,4.239663 9.592443,2.0298c3.290241,-2.054354 5.074501,-5.892968 5.074501,-10.869253c0,-6.637774 -3.020146,-11.515843 -7.603566,-12.33431zm53.30681,0.900315c-8.78216,-1.53872 -13.807552,13.480165 -7.071562,21.165578c3.208394,3.642182 6.040293,4.247848 9.600628,2.021616c3.282056,-2.04617 5.074501,-5.892968 5.074501,-10.869253c0,-6.61322 -3.020146,-11.507658 -7.603566,-12.317941zm-23.620982,29.563058c-0.188248,0.605666 -1.104932,1.505981 -2.0298,1.988877c-2.340818,1.203148 -4.026862,0.785729 -6.498635,-1.465057c-1.530535,-1.383211 -2.226233,-2.111647 -2.692759,-0.662959c-0.433788,1.342287 2.29171,4.035046 4.395172,4.861699c1.931584,0.76936 3.314795,0.793914 5.410072,-0.081847c2.078908,-0.867576 3.895907,-3.200209 3.895907,-4.714375c0,-1.407765 -2.021616,-1.342287 -2.479958,0.073662zm-2.594543,-4.70619c1.334103,-1.178594 1.636936,-3.601258 0.360126,-4.886253s-3.871353,-1.088562 -4.886253,0.351941c-1.178594,1.686044 -0.548373,2.971038 0.294648,4.33788c1.309549,1.0149 3.069254,1.219517 4.231479,0.196432z">
</svg>

	<script>
	// on cible l'élément « path » que l'on veut animer 
	var triangle = document.querySelectorAll("#monSVG path")[0];	
	
	// la longueur du chemin «path»
	var longueur = triangle.getTotalLength();

	console.log(longueur)

	// La longueur du tracé
	// https://developer.mozilla.org/en/docs/Web/SVG/Attribute/stroke-dasharray

	triangle.style.strokeDasharray = longueur;

	// On fait disparaître le tracé en appliquant la propriété css strokeDashoffset sur toute la longueur du chemin
	triangle.style.strokeDashoffset = longueur;

	// extraire la fraction du déplacement de la barre de défilement et  ajusté le tracé
	window.addEventListener("scroll", maTrace);

	function maTrace() {

		console.log('scrollTop de body = ' + document.body.scrollTop)
		console.log('scrollTop de documentElement = ' + document.documentElement.scrollTop)
		console.log('scrollHeight de documentElement = ' + document.documentElement.scrollHeight)	
		console.log('clientHeight de documentElement = ' + document.documentElement.clientHeight)			


	  var fractionDuScroll = (document.body.scrollTop + document.documentElement.scrollTop) / (document.documentElement.scrollHeight - document.documentElement.clientHeight);

	  var trace = longueur * fractionDuScroll;

	  // tracé selon la fraction de «scroll»
	  triangle.style.strokeDashoffset = longueur - trace ;
	}



	


	/***************************   ROND    ************************************/
	var rond = document.querySelectorAll("#svg_1 path")[0];	

	var longueurRond = rond.getTotalLength();

	rond.style.strokeDasharray = longueurRond;

	rond.style.strokeDashoffset = longueurRond;

	window.addEventListener("scroll", maTraceRond);

	function maTraceRond() {

		console.log('scrollTop de body = ' + document.body.scrollTop)
		console.log('scrollTop de documentElement = ' + document.documentElement.scrollTop)
		console.log('scrollHeight de documentElement = ' + document.documentElement.scrollHeight)	
		console.log('clientHeight de documentElement = ' + document.documentElement.clientHeight)			


	  var fractionDuScroll = (document.body.scrollTop + document.documentElement.scrollTop) / (document.documentElement.scrollHeight - document.documentElement.clientHeight);

	  var traceRond = longueurRond * fractionDuScroll;

	  rond.style.strokeDashoffset = longueurRond - traceRond ;
	}

	/***************************   NAUGE ECLAIRE FOU    ************************************/
	var nuage = document.querySelectorAll("#svg_2 path")[0];	

	var longueurNuage = nuage.getTotalLength();

	nuage.style.strokeDasharray = longueurNuage;

	nuage.style.strokeDashoffset = longueurNuage;

	window.addEventListener("scroll", maTraceNuage);

	function maTraceNuage() {

		console.log('scrollTop de body = ' + document.body.scrollTop)
		console.log('scrollTop de documentElement = ' + document.documentElement.scrollTop)
		console.log('scrollHeight de documentElement = ' + document.documentElement.scrollHeight)	
		console.log('clientHeight de documentElement = ' + document.documentElement.clientHeight)			


	  var fractionDuScroll = (document.body.scrollTop + document.documentElement.scrollTop) / (document.documentElement.scrollHeight - document.documentElement.clientHeight);

	  var traceNuage = longueurNuage * fractionDuScroll;

	  nuage.style.strokeDashoffset = longueurNuage - traceNuage ;
	}

	/***************************   UN OEIL QUI TE FIXE   ************************************/
	var oeil = document.querySelectorAll("#svg_3 path")[0];	

	var longueurOeil = oeil.getTotalLength();

	oeil.style.strokeDasharray = longueurOeil;

	oeil.style.strokeDashoffset = longueurOeil;

	window.addEventListener("scroll", maTraceOeil);

	function maTraceOeil() {

		console.log('scrollTop de body = ' + document.body.scrollTop)
		console.log('scrollTop de documentElement = ' + document.documentElement.scrollTop)
		console.log('scrollHeight de documentElement = ' + document.documentElement.scrollHeight)	
		console.log('clientHeight de documentElement = ' + document.documentElement.clientHeight)			


	  var fractionDuScroll = (document.body.scrollTop + document.documentElement.scrollTop) / (document.documentElement.scrollHeight - document.documentElement.clientHeight);

	  var traceOeil = longueurOeil * fractionDuScroll;

	  oeil.style.strokeDashoffset = longueurOeil - traceOeil ;
	}

	/***************************   UN CHAT.... ET UN OCTOPUS! INCROYABLE!   ************************************/
	var catopus = document.querySelectorAll("#svg_7 path")[0];	

	var longueurCatopus = catopus.getTotalLength();

	catopus.style.strokeDasharray = longueurCatopus;

	catopus.style.strokeDashoffset = longueurCatopus;

	window.addEventListener("scroll", maTraceCatopus);

	function maTraceCatopus() {

		console.log('scrollTop de body = ' + document.body.scrollTop)
		console.log('scrollTop de documentElement = ' + document.documentElement.scrollTop)
		console.log('scrollHeight de documentElement = ' + document.documentElement.scrollHeight)	
		console.log('clientHeight de documentElement = ' + document.documentElement.clientHeight)			


	  var fractionDuScroll = (document.body.scrollTop + document.documentElement.scrollTop) / (document.documentElement.scrollHeight - document.documentElement.clientHeight);

	  var traceCatopus = longueurCatopus * fractionDuScroll;

	  catopus.style.strokeDashoffset = longueurCatopus - traceCatopus ;
	}

	</script>

</body>
</html>